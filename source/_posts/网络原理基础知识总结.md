---
title: 计算机网络原理基础知识总结
date: 2022-05-10 16:10:31
tags:
- 网络原理
- 面试
categories:
- [网站网络]
- [前端进阶]
- [读书笔记]
---
### 一. 计算机网络概述
#### 1. 概念
计算机网络是一个将分散的、具有独立功能的**计算机系统**，通过**通信设备**与想线路连接起来，有功能完善的**软件**实现**资源共享**和**信息传递**的系统。

#### 2. 功能
- **数据通信**
- **资源共享**：硬件、软件、数据共享
- **分布式处理**：多台计算机分工合作
- **提高可靠性**：为宕机机器提供替代机
- **负载均衡**：多台计算机均衡承担不同工作


#### 3. 组成
- **组成部分**：硬件、软件、协议
- **工作方式**：
    - **边缘部分**：由所有连接在互联网上的主机组成，供用户直接使用，用来进行通信和资源共享。通信方式有`C/S（客户-服务器）`和`P2P（对等方式）`。
    - **核心部分**：由大量网络和路由器组成，为边缘部分服务，提供连通性和交换。
- **功能组成**：
    - **通信子网**：实现数据通信
    - **资源子网**：实现资源共享/数据处理

#### 4. 分类
- 按**分布范围**分：`广域网WAN`、`城域网MAN`、`局域网LAN`、`个人局域网PAN`
- 按**使用者**分：`公用网`、`专用网`
- 按**交换技术**分：`电路交换`、`报文交换`、`分组交换`
- 按**拓扑结构**分：`总线型`、`星型`、`环型`、`网状型`
- 按**传输技术**分：`广播式网络`、`点对点网络`

#### 5. 性能指标
- **速率**：数据的传送速率，也称`数据率`或`比特率`
- **带宽**：网络设备所能支持的最高速率。
- **吞吐量**：单位时间内通过某个网络（或信道、接口）的数据量。
- **时延**：
    - **发送时延**：主机或路由器发送数据帧所需要的时间
    - **传播时延**：电磁波在信道中传播一定距离花费的时间
    - **排队时延**：数据帧在链路中排队需要的时间
    - **处理时延**：主机或路由器对数据帧进行处理花费的时间
- **时延带宽积**：传播时延x带宽，表示某段链路现在有多少比特
- **往返时间RTT**：从发送方发送数据开始，到发送方收到接收方的确认，总共经历的时延。
- **利用率**：
    - **信道利用率**：有数据通过的时间/（有+无）数据通过时间
    - **网络利用率**：信道利用率加权平均值

#### 6. 体系结构
- **OSI 参考模型**：7层结构，法定标准，理论成功，市场失败。
- **TCP/IP 参考模型**：4层结构，事实标准，
- **五层的体系结构**：结合上述两种模型的优点，方便学习。

![](https://cdn.jsdelivr.net/gh/Snail-Lu/imageGalleries/gh-pages/2022/20220511103052.png)

网络中的通信过程（以OSI模型为例）：
在向下的过程中，需要添加下层协议所需要的首部或者尾部，而在向上的过程中不断拆开首部和尾部。
![](https://cdn.jsdelivr.net/gh/Snail-Lu/imageGalleries/gh-pages/2022/20220511225740.png)
![](https://cdn.jsdelivr.net/gh/Snail-Lu/imageGalleries/gh-pages/2022/20220511225815.png)


### 二. 物理层
#### 1. 主要任务
物理层主要考虑的是如何在连接各种计算机的传输媒体上传输**数据比特流**，而不是指具体的传输媒体。物理层任务：确定与传输媒体接口有关的一些特性。即：
- **机械特性**：接口所用接线器的规格、接口形状、引线数目、引脚数量和排列情况等
- **电气特性**：接口电缆各条线上的电压范围
- **功能特性**：某条线上出现某一电平的电压的意义
- **过程特性**：各条物理线路的工作规程和时序关系

#### 2. 数据通信基础知识
- 数据通信系统模型
![](https://cdn.jsdelivr.net/gh/Snail-Lu/imageGalleries/gh-pages/2022/20220512221929.png)

- 通信方式
    1. **单工通信**：只有一个方向的通信而没有反方向的交互。
    2. **半双工通信**：通信的双方都可以发送或接收消息，但是单个时间只能一方发送，另一方接收。
    3. **全双工通信**：通信的双方可以同时发送和接收消息。

- 码元、速率和带宽
    - **码元**：一个数字脉冲信号就是一个码元。当码元的离散状态有M个时，此时码元为`M进制码元`。一个码元可以携带多个比特，比如携带2个bit的码元可以有 $2^2$ = 4 种状态，因此就是`4进制码元`。

    - **速率**：也叫数据率，是指数据的传输速率，表示单位时间内传输的数据量
        1. **码元传输速率**：单位时间内传输的码元（脉冲）个数，单位为`波特`（Baud）
        2. **信息传输速率**：单位时间内传输的比特数，单位为`比特/秒`（b/s）。所以`信息传输速率 = 码元传输速率 * 码元携带比特数`
    
    - **带宽**：单位时间内从网络中的某一点到另一点所能通过的**最高数据率**，单位为`比特/秒`（b/s）

- 奈氏准则（奈奎斯特定理）
在理想低通（无噪声、带宽受限）条件下，为了避免`码间串扰`，
**极限码元传输速率 = 2W （Baud）**，由此也可以推得**极限数据传输速率 = 2W $\log_2{V}$**，其中`W`为
`信道带宽（Hz）`，`V`为`码元进制`。

- 香农定理
在带宽受限且有噪声的信道中，为了不产生误差，信息的数据传输速率有上限值。
**信道的极限数据传输速率 = W $\log_2{(1+S/N)}$ （b/s）**
其中，`W`为`信道带宽（Hz）`，`S`为`信号的平均功率`，`N`为`噪声的平均功率`。

- 编码与调制
    - **基带信号**：来自信源的信号，包含较多低频成分或直流成分，在数字信道上传输（基带传输）
    - **宽带信号**：基带信号进行调制后形成的频分复用模拟信号，在模拟信道上传输（宽带传输）
    - **编码**：
        - `数字信号 -> 数字信号`：非归零编码、归零编码、曼彻斯特编码、差分曼彻斯特编码
        - `模拟信号 -> 数字信号`：常见的对音频信号进行编码的脉冲编码调制PCM，主要步骤为`抽样 -> 量化 -> 编码`
    - **调制**：
        - `数字信号 -> 模拟信号`：调幅AM、调频FM、调相PM、正交振幅调制QAM（调幅+调相）
        - `模拟信号 -> 模拟信号`
#### 3. 传输媒体
传输媒体位于物理层下层，常被称为`0层`。
- **导引型传输媒体**：固体媒体，如`双绞线`、`同轴电缆`、`光纤`等
- **非导引型传输媒体**：自由空间。可以利用`无线电波`、`微波`、`红外线`、`激光`等进行数据传输和通信。

#### 4. 物理层设备
- **中继器**：对信号进行再生和还原，对衰减的信号进行放大，保持与原数据相同，以增加信号传输的距离，延长网络的长度。
- **集线器**：多口中继器。
#### 4. 信道复用
- **频分复用（FDM）**：所有用户在同样的时间占用不同的带宽（这里指频率带宽）资源。
- **时分复用（TDM）**：所有用户在不同的时间占用同样的频带宽度。
- **统计时分复用（STDM）**：改进的时分复用。
- **波分复用（WDM）**：光的频分复用。
- **码分复用（CDM）**：各用户使用经过特殊挑选的不同码型，用户可在相同的时间使用同样的频带。


### 三. 数据链路层
#### 1. 相关概念
- **结点**：主机、路由器
- **链路**：两个结点之间的物理通道
- **数据链路**：两个结点之间的逻辑通道，把实现控制数据传输协议的硬件和软件加到链路上就构成数据链路
- **帧**：链路层的协议数据单元，封装网络层数据报
#### 2. 主要功能
- **封装成帧**：在一段数据的前后部分添加首部和尾部。
![](https://cdn.jsdelivr.net/gh/Snail-Lu/imageGalleries/gh-pages/2022/20220513211644.png)

- **透明传输**：帧的数据部分可能有跟帧首部或帧尾部完全一样的字符，接收方有可能会将其误认为帧边界，从而出现错误，这时候就要采取一定的措施，从而实现**透明传输**（无论什么数都可以无差错的传输）。
四种组帧方法实现透明传输：（目前普遍使用方法3和方法4）
    1. 字符计数法：帧首部使用一个计数字段来表明来标明帧内字符数。
    2. 字符（节）填充法：在控制字符`SOH`或`EOT`前面插入一个转义字符`ESC`
    3. 零比特填充法：连续`5`个`1`，插入一个`0`
    4. 违规编码法：用“高-高”、“高-低”来定界帧的起始和终止。

- **差错控制**
传输中的差错都是由于噪声引起的。包括`位错`（比特差错，0变成1或1变成0）和`帧错`（丢失、重复、失序）。这里的差错控制主要是`比特差错`（位错）的控制。方法有：
    - **检错编码**：奇偶校验码、CRC循环冗余码
    - **纠错编码**：海明码（发现双比特错，纠正单比特错）

- **流量控制**：较高的发送速度和较低的接收能力不匹配，会造成传输出错。
流量控制的方法：
    1. `停止-等待协议`：每发送完一个帧就停止发送，等待收到对方的确认后再发送下一帧。
    2. `滑动窗口协议`：选择重传协议SR、后退N帧协议GBN

#### 3. 介质访问控制
采取一定措施使得两对节点之间的通信不会发生互相干扰的情况。
![](https://cdn.jsdelivr.net/gh/Snail-Lu/imageGalleries/gh-pages/2022/20220514163330.png)


#### 4. 局域网
在某一区域内由多台计算机互联成的计算机组，使用`广播信道`。
- **拓扑结构**：星型拓扑、总线型拓扑、环形拓扑、树形拓扑
- **传输介质**：
    - **有线局域网**：双绞线、同轴电缆、光纤
    - **无线局域网**：电磁波
- **介质访问控制方法**：CSMA/CD、令牌总线、令牌环
- **分类**：以太网、令牌环网、FDDI网、ATM网、无线局域网WLAN

#### 5. 广域网
跨接很大的物理范围的网络，采用`分组交换`技术。广域网中的链路层协议有：
- **PPP协议**
- **HDLC协议**

#### 6. 链路层设备
- **网桥**：根据MAC帧的地址对帧进行转发和过滤。
- **交换机**

### 四. 网络层
网络层负责把`分组`从源端传到目的端，为分组交换网上的不同主机提供通信服务。网络层传输单元是`数据报`。
#### 1. 主要功能
- 路由选择与分组转发
- 异构网络互连
- 拥塞控制

#### 2. 数据交换方式
![](https://cdn.jsdelivr.net/gh/Snail-Lu/imageGalleries/gh-pages/2022/20220515152159.png)
### 五. 运输层（传输层）
运输层的任务就是负责向两台主机进程之间的通信提供通用的数据传输服务。该层主要使用`传输控制协议TCP`（Transmission Control Protocol）和`用户数据报协议UDP`（User datagram Protocol）。
### 六. 应用层
应用层的任务是通过应用进程间的交互来完成特定网络应用。应用层协议定义的是应用进程间通信和交互的规则。典型的应用层协议有`文件传输协议FTP`、`简单邮件传输协议SMTP`、`超文本传输协议HTTP`等。








### 参考资料
[1.计算机网络-第7版-谢希仁]()
[2.前端需要了解的计算机网络知识 ](https://juejin.cn/post/6844904079974465544)