---
title: 计算机网络原理基础知识总结
date: 2022-05-10 16:10:31
tags:
- 网络原理
- 面试
categories:
- [网站网络]
- [前端进阶]
- [读书笔记]
---
### 一. 计算机网络概念
#### 1. 概念
计算机网络是一个将分散的、具有独立功能的**计算机系统**，通过**通信设备**与想线路连接起来，有功能完善的**软件**实现**资源共享**和**信息传递**的系统。

#### 2. 功能
- **数据通信**
- **资源共享**：硬件、软件、数据共享
- **分布式处理**：多台计算机分工合作
- **提高可靠性**：为宕机机器提供替代机
- **负载均衡**：多台计算机均衡承担不同工作


#### 3. 组成
- **组成部分**：硬件、软件、协议
- **工作方式**：
    - **边缘部分**：由所有连接在互联网上的主机组成，供用户直接使用，用来进行通信和资源共享。
    - **核心部分**：由大量网络和路由器组成，为边缘部分服务，提供连通性和交换。
- **功能组成**：
    - **通信子网**：实现数据通信
    - **资源子网**：实现资源共享/数据处理

#### 4. 分类
- 按**分布范围**分：`广域网WAN`、`城域网MAN`、`局域网LAN`、`个人局域网PAN`
- 按**使用者**分：`公用网`、`专用网`
- 按**交换技术**分：`电路交换`、`报文交换`、`分组交换`
- 按**拓扑结构**分：`总线型`、`星型`、`环型`、`网状型`
- 按**传输技术**分：`广播式网络`、`点对点网络`

#### 5. 性能指标
- **速率**：数据的传送速率，也称`数据率`或`比特率`
- **带宽**：网络设备所能支持的最高速率。
- **吞吐量**：单位时间内通过某个网络（或信道、接口）的数据量。
- **时延**：
    - **发送时延**：主机或路由器发送数据帧所需要的时间
    - **传播时延**：电磁波在信道中传播一定距离花费的时间
    - **排队时延**：数据帧在链路中排队需要的时间
    - **处理时延**：主机或路由器对数据帧进行处理花费的时间
- **时延带宽积**：传播时延x带宽，表示某段链路现在有多少比特
- **往返时间RTT**：从发送方发送数据开始，到发送方收到接收方的确认，总共经历的时延。
- **利用率**：
    - **信道利用率**：有数据通过的时间/（有+无）数据通过时间
    - **网络利用率**：信道利用率加权平均值

#### 6. 体系结构
- **OSI 参考模型**：7层结构，法定标准，理论成功，市场失败。
- **TCP/IP 参考模型**：4层结构，事实标准
- **五层的体系结构**：结合上述两种模型的优点，方便学习。

![](https://cdn.jsdelivr.net/gh/Snail-Lu/imageGalleries/gh-pages/2022/20220511103052.png)

##### 6.1 OSI参考模型通信过程
![](https://cdn.jsdelivr.net/gh/Snail-Lu/imageGalleries/gh-pages/2022/20220511225740.png)
![](https://cdn.jsdelivr.net/gh/Snail-Lu/imageGalleries/gh-pages/2022/20220511225815.png)
在向下的过程中，需要添加下层协议所需要的首部或者尾部，而在向上的过程中不断拆开首部和尾部。



- 应用层
应用层的任务是通过应用进程间的交互来完成特定网络应用。应用层协议定义的是应用进程间通信和交互的规则。
- 运输层（传输层）
运输层的任务就是负责向两台主机进程之间的通信提供通用的数据传输服务。该层主要使用`传输控制协议TCP`（Transmission Control Protocol）和`用户数据报协议UDP`（User datagram Protocol）。
- 网络层
网络层负责为分组交换网上的不同主机提供通信服务，将运输层传输的报文段或用户数据封装成**分组**或**包**进行传送。
- 数据链路层
数据链路层主要负责将数据**封装成帧**。数据帧中包含数据部分和必要的**控制信息**（如同步信息、地址信息、差错控制等）。
- 物理层
物理层主要负责规定传输媒体接口的标准。他不管物理介质具体是什么，比如比伦是是光纤还是双绞线，只要能按物理层规定的标准传输数据就行。
## 网络的网络

网络把主机连接起来，而互连网（internet）是把多种不同的网络连接起来，因此互连网是网络的网络。而互联网（Internet）是全球范围的互连网。

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/network-of-networks.gif" width="450"/> </div><br>

## ISP

互联网服务提供商 ISP 可以从互联网管理机构获得许多 IP 地址，同时拥有通信线路以及路由器等联网设备，个人或机构向 ISP 缴纳一定的费用就可以接入互联网。

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/72be01cd-41ae-45f7-99b9-a8d284e44dd4.png" width="500"/> </div><br>

目前的互联网是一种多层次 ISP 结构，ISP 根据覆盖面积的大小分为第一层 ISP、区域 ISP 和接入 ISP。互联网交换点 IXP 允许两个 ISP 直接相连而不用经过第三个 ISP。

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/3be42601-9d33-4d29-8358-a9d16453af93.png" width="500"/> </div><br>

## 主机之间的通信方式

- 客户-服务器（C/S）：客户是服务的请求方，服务器是服务的提供方。

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/914894c2-0bc4-46b5-bef9-0316a69ef521.jpg" width="240px"> </div><br>

- 对等（P2P）：不区分客户和服务器。

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/42430e94-3137-48c0-bdb6-3cebaf9102e3.jpg" width="200px"> </div><br>

## 电路交换与分组交换

### 1. 电路交换

电路交换用于电话通信系统，两个用户要通信之前需要建立一条专用的物理链路，并且在整个通信过程中始终占用该链路。由于通信的过程中不可能一直在使用传输线路，因此电路交换对线路的利用率很低，往往不到 10%。

### 2. 分组交换

每个分组都有首部和尾部，包含了源地址和目的地址等控制信息，在同一个传输线路上同时传输多个分组互相不会影响，因此在同一条传输线路上允许同时传输多个分组，也就是说分组交换不需要占用传输线路。

在一个邮局通信系统中，邮局收到一份邮件之后，先存储下来，然后把相同目的地的邮件一起转发到下一个目的地，这个过程就是存储转发过程，分组交换也使用了存储转发过程。

## 时延

总时延 = 排队时延 + 处理时延 + 传输时延 + 传播时延

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/4b2ae78c-e254-44df-9e37-578e2f2bef52.jpg" width="380"/> </div><br>

### 1. 排队时延

分组在路由器的输入队列和输出队列中排队等待的时间，取决于网络当前的通信量。

### 2. 处理时延

主机或路由器收到分组时进行处理所需要的时间，例如分析首部、从分组中提取数据、进行差错检验或查找适当的路由等。

### 3. 传输时延

主机或路由器传输数据帧所需要的时间。

<!-- <div align="center"><img src="https://latex.codecogs.com/gif.latex?delay=\frac{l(bit)}{v(bit/s)}" class="mathjax-pic"/></div> <br> -->

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/dcdbb96c-9077-4121-aeb8-743e54ac02a4.png" width="150px"> </div><br>


其中 l 表示数据帧的长度，v 表示传输速率。

### 4. 传播时延

电磁波在信道中传播所需要花费的时间，电磁波传播的速度接近光速。

<!-- <div align="center"><img src="https://latex.codecogs.com/gif.latex?delay=\frac{l(m)}{v(m/s)}" class="mathjax-pic"/></div> <br> -->

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/a1616dac-0e12-40b2-827d-9e3f7f0b940d.png" width="150"> </div><br>

其中 l 表示信道长度，v 表示电磁波在信道上的传播速度。

## 计算机网络体系结构

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/0fa6c237-a909-4e2a-a771-2c5485cd8ce0.png" width="450"/> </div><br>

### 1. 五层协议

-   **应用层**  ：为特定应用程序提供数据传输服务，例如 HTTP、DNS 等协议。数据单位为报文。

-   **传输层**  ：为进程提供通用数据传输服务。由于应用层协议很多，定义通用的传输层协议就可以支持不断增多的应用层协议。运输层包括两种协议：传输控制协议 TCP，提供面向连接、可靠的数据传输服务，数据单位为报文段；用户数据报协议 UDP，提供无连接、尽最大努力的数据传输服务，数据单位为用户数据报。TCP 主要提供完整性服务，UDP 主要提供及时性服务。

-   **网络层**  ：为主机提供数据传输服务。而传输层协议是为主机中的进程提供数据传输服务。网络层把传输层传递下来的报文段或者用户数据报封装成分组。

-   **数据链路层**  ：网络层针对的还是主机之间的数据传输服务，而主机之间可以有很多链路，链路层协议就是为同一链路的主机提供数据传输服务。数据链路层把网络层传下来的分组封装成帧。

-   **物理层**  ：考虑的是怎样在传输媒体上传输数据比特流，而不是指具体的传输媒体。物理层的作用是尽可能屏蔽传输媒体和通信手段的差异，使数据链路层感觉不到这些差异。

### 2. OSI

其中表示层和会话层用途如下：

-   **表示层**  ：数据压缩、加密以及数据描述，这使得应用程序不必关心在各台主机中数据内部格式不同的问题。

-   **会话层**  ：建立及管理会话。

五层协议没有表示层和会话层，而是将这些功能留给应用程序开发者处理。

### 3. TCP/IP

它只有四层，相当于五层协议中数据链路层和物理层合并为网络接口层。

TCP/IP 体系结构不严格遵循 OSI 分层概念，应用层可能会直接使用 IP 层或者网络接口层。

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/48d79be8-085b-4862-8a9d-18402eb93b31.png" width="250"/> </div><br>

### 4. 数据在各层之间的传递过程

在向下的过程中，需要添加下层协议所需要的首部或者尾部，而在向上的过程中不断拆开首部和尾部。

路由器只有下面三层协议，因为路由器位于网络核心中，不需要为进程或者应用程序提供服务，因此也就不需要传输层和应用层。



### 参考资料
[1.计算机网络-第7版-谢希仁]()
[2.前端需要了解的计算机网络知识 ](https://juejin.cn/post/6844904079974465544)