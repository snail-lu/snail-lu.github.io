---
title: 前端常见开发问题记录
date: 2021-12-20 21:15:28
tags:
- JavaScript
- Vue
- React
categories:
- [前端]
---

### 常见问题
#### input输入框保存对象格式的数据
有时候需要将对象（或数组）格式的数据利用表单保存起来，但是输入框会将输入的对象数据当作字符串，这样存到数据库中的数据格式也是字符串。
例如：
```js
// input输入框中输入的是 { name: 'snail', age: 20 }
// 表单提交时，该条数据就是 "{name: 'snail', age: 20 }"
```
当前端需要将使用该条数据时，需要进行一定的格式转换，下面是常用的使用方法：
```js
// “数组”字符串
let a1 = "[1234, 4324, 432]"
console.log(JSON.parse(a1));  // 可以被转成数组 [1234, 4324, 432]

// 对象
let o1 = '{ "name": "snail", "age": 20 }'
console.log(JSON.parse(o1)); 
// 可以被转成对象 
{name: 'snail', age: 20}

// 包含单层对象的“数组”字符串
let a2 = '[{"name": "jack", "age": 13 }, { "name": "mike", "age": 15 }]'
console.log(JSON.parse(a2)) 
//  可以被转成数组 
[{name: 'jack', age: 13}, {name: 'mike', age: 15}]


// 对象
let o2 = '{ "name": "snail", "age": 20, "other": { "sex": "male", "address": "上海市黄浦区人民广场" }}'
console.log(JSON.parse(o2)); 
// 可以被转成对象
{
    age: 20,
    name: "snail",
    other: {
        sex: 'male', 
        address: '上海市黄浦区人民广场'
    }
}

// 一些对象数据格式可能不符合JSON格式，直接使用JSON.parse()会报错
let o3 = "{ name: 'snail', age: 20, other: { sex: 'male', address: '上海市黄浦区人民广场' }}"
console.log(JSON.parse(o3)); // 报错：Uncaught SyntaxError: Unexpected token n in JSON at position 2
// 非严格模式可以使用eval()
console.log(eval(o3))

```